<!doctype html>
<html lang="en">
  <meta charset="utf-8" />
  <title>User-Agent üëÄ Client Hints</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link
    id="favicon"
    rel="icon"
    href="./assets/eyes_1f440.png"
    type="image/x-icon"
  />
  <meta name="Description" content="User-Agent üëÄ Client Hints" />
  <style>
    body {
      font-family: sans-serif;
      font-weight: 300;
      margin: 0;
      padding: 0;
      color: hsl(300, 24%, 30%);
    }

    h1,
    h2,
    nav {
      font-size: 1.1rem;
      font-weight: 400;
      padding: 0.5rem;
      margin: 0;
      background: hsl(300, 24%, 95%);
    }

    h2 {
      border-top: 1px hsl(300, 24%, 55%) solid;
    }

    pre,
    code {
      font-family: monospace;
      font-weight: 700;
      color: #444;
      background: oldlace;
    }

    pre {
      overflow: auto;
      padding: 0.8rem;
      margin: 0;
    }

    code {
      /*     margin: 1rem; */
      padding: 0.5rem;
      line-height: 2rem;
    }

    pre.input {
      color: hsl(300, 24%, 40%);
      font-style: italic;
      font-weight: 400;
      padding-bottom: 0;
    }

    pre.input::before {
      content: "> ";
      color: hsl(300, 24%, 70%);
    }

    a {
      color: hsl(300, 24%, 50%);
      font-weight: 500;
    }

    footer {
      padding-left: 1rem;
    }
  </style>
  <header>
    <h1>User-Agent üëÄ Client Hints</h1>
    <nav>
      <a href="./">[via JavaScript]</a>
      <a href="./headers">[via headers]</a>
    </nav>
  </header>
  <main>
    <h2>Brands</h2>
    <pre class="input">console.log(navigator.userAgentData.brands);</pre>
    <pre class="brands" disabled>[‚Ä¶]</pre>
    <h2>Mobile indicator</h2>
    <pre class="input">console.log(navigator.userAgentData.mobile);</pre>
    <pre class="mobile" disabled>[‚Ä¶]</pre>
    <h2>Platform</h2>
    <pre class="input">console.log(navigator.userAgentData.platform);</pre>
    <pre class="platform" disabled>[‚Ä¶]</pre>
    <h2>Full User-Agent data</h2>
    <pre class="input">
navigator.userAgentData
.getHighEntropyValues(['architecture', 'bitness', 'brands', 'mobile', 'model', 'platform', 'platformVersion', 'uaFullVersion', 'fullVersionList', 'wow64'])
.then(ua =&gt; { console.log(ua) });</pre
    >
    <pre class="high-entropy" disabled></pre>
    <h2>[For comparison] User-Agent</h2>
    <pre class="input">console.log(navigator.userAgent);</pre>
    <code class="user-agent" disabled>[‚Ä¶]</code>
  </main>
  <footer>
    <p>
      *Ô∏è‚É£ Requires Chrome 84 or equivalent.<br />
      üìÉ Read the proposal at
      <a href="https://github.com/WICG/ua-client-hints"
        >github.com/WICG/ua-client-hints</a
      ><br />
      üíª
      <a
        href="https://glitch.com/edit/#!/user-agent-client-hints?path=public%2Fjavascript.html"
        >See the demo code</a
      >.
    </p>
  </footer>
  <script>
    "use strict";
    const brandsText = document.querySelector(".brands");
    brandsText.textContent = JSON.stringify(
      navigator.userAgentData.brands,
      null,
      "  ",
    );
    const platform = document.querySelector(".platform");
    platform.textContent = navigator.userAgentData.platform;
    const mobileText = document.querySelector(".mobile");
    mobileText.textContent = navigator.userAgentData.mobile ? "true" : "false";

    const highEntropyText = document.querySelector(".high-entropy");
    navigator.userAgentData
      .getHighEntropyValues([
        "architecture",
        "bitness",
        "brands",
        "mobile",
        "model",
        "platform",
        "platformVersion",
        "uaFullVersion",
        "fullVersionList",
        "wow64",
      ])
      .then((ua) => {
        highEntropyText.textContent = JSON.stringify(ua, null, "  ");
      });

    document.querySelector(".user-agent").textContent = navigator.userAgent;
  </script>
</html>
