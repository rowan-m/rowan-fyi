---
import PostCardView from '@components/PostCardView.astro';
import BaseLayout from '@layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';
import Logo from "@public/img/logo.svg";
import Bluesky from "@public/img/socials/bluesky-fill.svg";
import GitHub from "@public/img/socials/github-fill.svg";
import Linkedin from "@public/img/socials/linkedin-box-fill.svg";
import Mastodon from "@public/img/socials/mastodon-fill.svg";
import Threads from "@public/img/socials/threads-line.svg";
import Glitch from "@public/img/socials/vip-diamond-fill.svg";

const posts = await getCollection('posts');
posts.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
---
<BaseLayout title='rowan.fyi' description="Rowan Merewood's site featuring a variery of web development projects and posts.">
	<style>
		ul.socials {
			list-style-type: none;	
			padding-left: 0;
			display: flex;
			flex-flow: row wrap;
			column-gap: 0.5rem;
			row-gap: 0.1rem;
		}
	</style>
	<p>For your information, you can find me here:</p>
	<ul class="socials">
    <li><a href="https://bsky.app/profile/rowan.fyi" title="rowan@fyi on Bluesky"><Bluesky /> @rowan.fyi</a></li>
    <li><a href="https://mastodon.social/@rowan_m" title="@rowan_m on Mastodon"><Mastodon /> @rowan_m@mastodon.social</a></li>
    <li><a href="https://glitch.com/@rowan-m" title="rowan-m on Glitch"><Glitch /> rowan-m</a></li>
    <li><a href="https://github.com/rowan-m/" title="rowan-m on GitHub"><GitHub /> rowan-m</a></li>
    <li><a href="https://www.threads.net/@rowan_m" title="@rowan_m on Threads"><Threads /> @rowan_m</a></li>
    <li><a href="https://www.linkedin.com/in/rowanmerewood/" title="rowanmerewood on LinkedIn"><Linkedin /> rowanmerewood</a></li>
  </ul>
	<section class="posts">
		<h2>Posts</h2>
		<div>
		{
			posts.map((post) => (
				<PostCardView post={post} />
			))
		}
		</div>
	</section>
</BaseLayout>